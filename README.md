Parkinson's Disease AI Chatbot & Prediction Tool
This project develops a hybrid AI chatbot designed to provide general information about Parkinson's Disease symptoms and offer a machine learning-based prediction of disease likelihood using specific vocal features extracted from audio input.

🌟 Features
General Symptom Chatbot: Engage in natural language conversations about Parkinson's Disease symptoms, causes, and general information.

Powered by a Large Language Model (LLM) (via OpenRouter API).

Provides informative, non-diagnostic responses.

Guides users towards the accurate prediction tool when relevant.

Voice-Based Prediction Tool: Input your voice (by speaking a specific sentence) to receive a machine learning-driven prediction of Parkinson's Disease likelihood.

Leverages a trained hybrid machine learning model for prediction.

Dynamically extracts 16 key vocal features from audio: MDVP:Fo(Hz), MDVP:Fhi(Hz), MDVP:Flo(Hz), MDVP:Jitter(%), MDVP:Jitter(Abs), MDVP:RAP, MDVP:PPQ, Jitter:DDP, MDVP:Shimmer, MDVP:Shimmer(dB), Shimmer:APQ3, Shimmer:APQ5, Shimmer:DDA, HNR, NHR, and DFA.

Note on Feature Coverage: Due to the highly specialized nature and current library compatibility issues for some features, MDVP:APQ is explicitly set to 0.0, and RPDE, spread1, spread2, D2, PPE use fixed placeholder values (0.45, -4.6, 0.22, 2.35, 0.19, 0.0075 respectively). These features would require significant custom algorithm development or advanced Praat scripting beyond the scope of direct library integration.

Provides probability scores along with the prediction.

Automatically logs all predictions for potential future analysis (to user_predictions_log.csv).

Intuitive User Interface:

Clean, responsive web interface built with HTML, CSS, and JavaScript.

Clear instructions for voice input ("The quick brown fox jumps over the lazy dog.").

Clear disclaimers emphasizing that the tool is informational and not for diagnosis.

💻 Technology Stack
This project utilizes a robust stack combining frontend, backend, and machine learning components:

Frontend:

HTML5: Structure of the web pages.

CSS3: Styling and responsive design.

JavaScript (ES6+): Client-side interactivity, microphone access, API calls, and UI management.

marked.js: Markdown parsing for chatbot responses.

jspdf, html2canvas: PDF report generation.

Font Awesome: Icons.

Backend:

Python 3.x: Core programming language.

FastAPI: High-performance web framework for building the API endpoints.

Uvicorn: ASGI server for running FastAPI.

httpx: Asynchronous HTTP client for external API requests (e.g., OpenRouter).

python-dotenv: For managing environment variables (API keys).

parselmouth: Core library for detailed voice feature extraction (Jitter, Shimmer, HNR, NHR, pitch features) from audio, by interfacing with Praat.

numpy: Fundamental package for numerical computing, used extensively in feature extraction and data manipulation.

pydub: Audio manipulation library, used for converting WebM audio to WAV format.

tempfile: For creating temporary audio files during processing.

nolds: Library for non-linear dynamics, specifically used for Detrended Fluctuation Analysis (DFA).

scikit-learn: For machine learning model implementation (StandardScaler, StackingClassifier).

pandas: Data manipulation and analysis.

joblib: For saving and loading trained ML models and data scalers.

External Dependencies:

FFmpeg: An external command-line tool used by pydub for audio format conversion. Must be installed separately on your system.

OpenRouter API: Used to access various Large Language Models (LLMs) for the general chatbot functionality.

📁 Project Structure
parkinsons-chatbot/
├── backend/
│ ├── data/
│ │ ├── parkinsons_hospital.csv # Dataset for ML model training
│ │ └── Parkinsson_data.csv # Another dataset for ML model training
│ │ └── user_predictions_log.csv # Log of user predictions (auto-generated)
│ ├── models/
│ │ ├── parkinsons_predictor.pkl # Trained ML model (generated by ml_model.py)
│ │ ├── scaler.pkl # Trained data scaler (generated by ml_model.py)
│ │ └── feature_names.pkl # List of feature names (generated by ml_model.py)
│ ├── .env.example # Example environment variables file
│ ├── main.py # FastAPI backend application
│ ├── ml_model.py # Script for training and saving ML model
│ └── requirements.txt # Python dependencies for backend
├── frontend/
│ ├── css/
│ │ └── style.css # Stylesheets for the UI
│ ├── js/
│ │ ├── chatbot.js # JavaScript for general chat functionality
│ │ ├── prediction.js # JavaScript for accurate prediction functionality
│ │ └── report_dashboard.js # JavaScript for prediction report dashboard
│ ├── chatbot.html # HTML for the general chat page
│ └── prediction.html # HTML for the accurate prediction page
└── README.md # This file

🚀 Setup and Installation
Follow these steps to get the Parkinson's Disease AI Chatbot up and running on your local machine.

1. Install FFmpeg (Essential External Dependency)
   FFmpeg is required by pydub for audio conversions.

For Windows:

Download a static build from https://ffmpeg.org/download.html (e.g., from gyan.dev or BtbN). Download the .zip file.

Extract the .zip file to a simple path (e.g., C:\ffmpeg).

Add the bin directory (e.g., C:\ffmpeg\ffmpeg-N.N.N-full_build\bin) to your System's Path Environment Variable.

Crucially: Close and reopen all terminal/PowerShell windows after modifying Path. Verify by typing ffmpeg -version in a new terminal.

For macOS (using Homebrew): brew install ffmpeg

For Linux (Debian/Ubuntu): sudo apt update && sudo apt install ffmpeg

2. Clone the Repository
   git clone <repository_url_here> # Replace with your actual repository URL
   cd parkinsons-chatbot

3. Set Up Backend
   Navigate to the backend directory:

cd backend

a. Create a Python Virtual Environment (Recommended)

python -m venv venv

# On Windows:

.\venv\Scripts\activate

# On macOS/Linux:

source venv/bin/activate

b. Install Python Dependencies

pip install -r requirements.txt

# If you encounter issues with scipy, numpy, or nolds during installation, try:

# pip install -U --no-cache-dir nolds python-speech-features scipy

# If C++ compiler errors (Microsoft Visual C++ 14.0+ required) on Windows:

# You must install "Build Tools for Visual Studio" with "Desktop development with C++" workload selected.

# Get it from: https://visualstudio.microsoft.com/visual-cpp-build-tools/

# Then, try pip install again in a "Developer Command Prompt for VS".

c. Configure Environment Variables

Create a .env file in the backend/ directory by copying from .env.example:

cp .env.example .env

Open the newly created .env file and add your OpenRouter API Key (get it from OpenRouter.ai):

OPENROUTER_API_KEY="YOUR_OPENROUTER_API_KEY_HERE"

d. Train the Machine Learning Model

This step will train the ML model and save it, along with the scaler and feature names, into the backend/models/ directory. Ensure you have parkinsons_hospital.csv and Parkinsson_data.csv datasets in backend/data/.

python ml_model.py

You should see messages indicating the model, scaler, and feature names have been saved successfully.

e. Run the FastAPI Backend

uvicorn main:app --reload

The backend server will typically run on http://127.0.0.1:8000. Keep this terminal window open.

4. Launch Frontend
   Navigate back to the root parkinsons-chatbot/ directory:

cd ..

Open the frontend/ directory and simply open chatbot.html or prediction.html in your web browser. You can directly open these files, or use a local server extension (like Live Server in VS Code) for convenience.

General Chatbot: frontend/chatbot.html

Voice Prediction: frontend/prediction.html

🤝 Usage
General Chatbot
Open frontend/chatbot.html in your browser.

Type your questions about Parkinson's Disease symptoms or general information into the input box.

Click the "Send" button or press Enter.

The AI will respond with relevant information and a disclaimer.

Voice Prediction Tool
Open frontend/prediction.html in your browser, or navigate to it from the sidebar.

You will see instructions to speak the sentence: "The quick brown fox jumps over the lazy dog."

Click "Start Recording", speak the sentence clearly, and then click "Stop Recording".

The system will process your voice, extract features, and display a prediction (HIGH/LOW likelihood) with a probability score.

You can then go to the report dashboard for a detailed analysis of the extracted features.

⚠️ Important Disclaimer
This chatbot and prediction tool are for informational purposes only and cannot provide medical diagnosis or advice. Always consult a qualified healthcare professional for any health concerns or a definitive diagnosis. The predictions are based on a machine learning model trained on specific data and should not be used as a substitute for professional medical assessment. The interpretation of vocal features can be complex and influenced by many factors.

☁️ Deployment
To deploy your Parkinson's Prediction Chatbot for public access, you will need to host both your FastAPI backend and your static frontend files.

1. Backend Deployment Considerations (main.py)
   Server Choice: For production, you'll typically use a robust ASGI server like Gunicorn (with Uvicorn workers) behind a web server (like Nginx or Apache) for load balancing, SSL termination, and serving static files.

Example (Gunicorn): gunicorn main:app --workers 4 --worker-class uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000 (Install Gunicorn: pip install gunicorn uvicorn)

Environment Variables: Ensure your OPENROUTER_API_KEY is securely set as an environment variable on your production server, not just in .env.

FFmpeg Availability: Crucially, FFmpeg must be installed and accessible in the system's PATH on your production server. This is vital for audio conversion.

CORS Configuration Update (backend/main.py):

You MUST update the origins list in backend/main.py to include your actual production domain(s) and remove or comment out local development origins if they are not needed.

Locate the origins list:

origins = [
"http://localhost",
"http://localhost:8000",
"http://localhost:5500",
"http://127.0.0.1",
"http://127.0.0.1:8000",
"http://127.0.0.1:5500",
]

Modify to include your domain (example):

origins = [
"https://your-chatbot-domain.com", # <--- ADD YOUR PRODUCTION DOMAIN HERE
# "http://localhost", # Optional: comment out for production
# "http://localhost:8000",
# "http://localhost:5500",
# "http://127.0.0.1",
# "http://127.0.0.1:8000",
# "http://127.0.0.1:5500",
]

Save main.py after this change.

Model Files: Ensure the backend/models directory (containing parkinsons_predictor.pkl, scaler.pkl, feature_names.pkl) is available on your production server relative to your main.py.

2. Frontend Deployment Considerations (frontend/)
   Your frontend/ directory contains static HTML, CSS, and JavaScript files. These can be hosted on:

Cloud Hosting Services: Netlify, Vercel, Firebase Hosting, GitHub Pages. These services are excellent for static sites and often provide free tiers.

Web Servers: Nginx, Apache. You would configure your web server to serve the contents of the frontend/ directory.

Cloud Storage: AWS S3 (with CloudFront), Google Cloud Storage (with CDN).

3. Example Deployment Flow (Conceptual)
   Prepare main.py for production (update CORS, ensure OPENROUTER_API_KEY is set as a proper env var).

Deploy Backend: Choose a cloud provider (e.g., Heroku, Render, AWS EC2, Google Cloud Run). Push your backend code, set environment variables, and configure the ASGI server.

Deploy Frontend: Choose a static site host. Push your frontend/ directory.

Connect: Ensure your frontend's JavaScript fetch calls (in prediction.js and chatbot.js) are updated to point to your deployed backend API URL (e.g., https://your-backend-api.com/extract-features).

📈 Future Enhancements
Improved MDVP:APQ Calculation: Explore custom Python implementations for APQ11/APQ12, or more specialized voice analysis libraries that precisely match the dataset's methodology for this feature.

Dynamic RPDE, Spread1, Spread2, D2, PPE: Implement custom algorithms for these highly complex non-linear features, potentially involving advanced signal processing (e.g., Recurrence Quantification Analysis for RPDE, fractal dimension analysis).

User Accounts & History: Allow users to create accounts and save their prediction history.

Advanced UI/UX: Further refine the user interface for even greater intuitiveness, accessibility, and visual feedback during recording.

Model Retraining Pipeline: Automate the process of retraining the ML model with new data or incorporate online learning.

🤝 Contributing
Contributions are welcome! If you have suggestions for improvements, please feel free to fork the repository and submit a pull request, or open an issue.

📄 License
This project is open-sourced under the MIT License.
